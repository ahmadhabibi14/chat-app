import{S as me,i as ve,s as ge,e as m,h as v,j as w,l as f,m as u,o as y,t as C,u as V,v as pe,z as be,d as E,k as W,g as I,I as we,B as A,C as j,K as re,p as d,E as q,x as _e,y as ne,H as U,c as De,f as xe,n as ke,w as ye,q as Ee}from"./index.vfLk9hgJ.js";import{e as oe}from"./each.-oqiv04n.js";import{a as Ie}from"./axios.L6U4YIEh.js";import{I as Ne}from"./Icon._Bt0AYzA.js";import{R as $e}from"./RiSystemLoader4Fill.thdniLxq.js";const Ce="a3816072a7eb497fa7ae2b2b7f3e5d11";function ie(i){const e=new Date(i),r=e.toLocaleDateString("default",{weekday:"long"}),t=e.getDate(),l=e.toLocaleDateString("default",{month:"long"}),s=e.getFullYear();return`${r}, ${t} ${l} ${s}`}function Me(){const i=new Date,e=i.getMonth(),r=i.getFullYear();let t=e-1,l=r;t<0&&(t=11,l--);const s=new Date(l,t+1,0).getDate(),a=i.getDate(),n=a>s?s:a;return new Date(l,t,n).toISOString().slice(0,10)}function ce(i,e,r){const t=i.slice();return t[5]=e[r],t}function fe(i){let e,r='<span class="w-4 h-px bg-zinc-200"></span> <p class="font-semibold">News</p> <span class="grow h-px bg-zinc-200"></span>',t,l,s,a,n,h,k,g=oe(i[0]),_=[];for(let o=0;o<g.length;o+=1)_[o]=ue(ce(i,g,o));const $=[Se,ze],N=[];function M(o,p){return o[2]?0:1}return n=M(i),h=N[n]=$[n](i),{c(){e=m("div"),e.innerHTML=r,t=E(),l=m("div");for(let o=0;o<_.length;o+=1)_[o].c();s=E(),a=m("div"),h.c(),this.h()},l(o){e=v(o,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-wrwvng"&&(e.innerHTML=r),t=I(o),l=v(o,"DIV",{class:!0});var p=w(l);for(let D=0;D<_.length;D+=1)_[D].l(p);p.forEach(f),s=I(o),a=v(o,"DIV",{class:!0});var c=w(a);h.l(c),c.forEach(f),this.h()},h(){u(e,"class","flex flex-row items-center gap-2"),u(l,"class","flex flex-col gap-3"),u(a,"class","flex justify-center text-sm")},m(o,p){y(o,e,p),y(o,t,p),y(o,l,p);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(l,null);y(o,s,p),y(o,a,p),N[n].m(a,null),k=!0},p(o,p){if(p&1){g=oe(o[0]);let c;for(c=0;c<g.length;c+=1){const D=ce(o,g,c);_[c]?_[c].p(D,p):(_[c]=ue(D),_[c].c(),_[c].m(l,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=g.length}h.p(o,p)},i(o){k||(C(h),k=!0)},o(o){V(h),k=!1},d(o){o&&(f(e),f(t),f(l),f(s),f(a)),we(_,o),N[n].d()}}}function ue(i){let e,r,t,l,s,a,n,h,k=i[5].title+"",g,_,$,N=i[5].description+"",M,o,p,c,D,P=i[5].author+"",Y,J,z,L=ie(i[5].publishedAt)+"",H,Q,S,T=i[5].source.name+"",O,X,B;return{c(){e=m("a"),r=m("div"),t=m("img"),s=E(),a=m("div"),n=m("div"),h=m("h4"),g=A(k),_=E(),$=m("p"),M=A(N),o=E(),p=m("div"),c=m("div"),D=m("p"),Y=A(P),J=E(),z=m("p"),H=A(L),Q=E(),S=m("span"),O=A(T),X=E(),this.h()},l(x){e=v(x,"A",{href:!0,target:!0,class:!0});var b=w(e);r=v(b,"DIV",{class:!0});var Z=w(r);t=v(Z,"IMG",{src:!0,alt:!0,class:!0}),Z.forEach(f),s=I(b),a=v(b,"DIV",{class:!0});var F=w(a);n=v(F,"DIV",{class:!0});var G=w(n);h=v(G,"H4",{class:!0});var ee=w(h);g=j(ee,k),ee.forEach(f),_=I(G),$=v(G,"P",{class:!0});var te=w($);M=j(te,N),te.forEach(f),G.forEach(f),o=I(F),p=v(F,"DIV",{class:!0});var K=w(p);c=v(K,"DIV",{class:!0});var R=w(c);D=v(R,"P",{class:!0});var le=w(D);Y=j(le,P),le.forEach(f),J=I(R),z=v(R,"P",{class:!0});var se=w(z);H=j(se,L),se.forEach(f),R.forEach(f),Q=I(K),S=v(K,"SPAN",{class:!0});var ae=w(S);O=j(ae,T),ae.forEach(f),K.forEach(f),F.forEach(f),X=I(b),b.forEach(f),this.h()},h(){re(t.src,l=i[5].urlToImage)||u(t,"src",l),u(t,"alt","news"),u(t,"class","w-full h-full object-cover duration-75 group-hover:scale-110"),u(r,"class","border border-zinc-100 h-32 overflow-hidden rounded-md"),u(h,"class","line-clamp-1 font-semibold"),u($,"class","text-xs text-zinc-600 line-clamp-2"),u(n,"class","flex flex-col gap-2"),u(D,"class","text-blue-500 text-sm"),u(z,"class","text-xs"),u(c,"class","flex flex-col gap-1"),u(S,"class","text-xs py-1.5 px-3 rounded-full font-semibold text-purple-500 bg-purple-500/20 h-fit w-fit"),u(p,"class","flex flex-row justify-between items-center"),u(a,"class","flex flex-col justify-between"),u(e,"href",B=i[5].url),u(e,"target","_blank"),u(e,"class","group grid grid-cols-[auto_65%] p-4 hover:bg-zinc-100 active:bg-zinc-200 rounded-md gap-4 items-stretch")},m(x,b){y(x,e,b),d(e,r),d(r,t),d(e,s),d(e,a),d(a,n),d(n,h),d(h,g),d(n,_),d(n,$),d($,M),d(a,o),d(a,p),d(p,c),d(c,D),d(D,Y),d(c,J),d(c,z),d(z,H),d(p,Q),d(p,S),d(S,O),d(e,X)},p(x,b){b&1&&!re(t.src,l=x[5].urlToImage)&&u(t,"src",l),b&1&&k!==(k=x[5].title+"")&&q(g,k),b&1&&N!==(N=x[5].description+"")&&q(M,N),b&1&&P!==(P=x[5].author+"")&&q(Y,P),b&1&&L!==(L=ie(x[5].publishedAt)+"")&&q(H,L),b&1&&T!==(T=x[5].source.name+"")&&q(O,T),b&1&&B!==(B=x[5].url)&&u(e,"href",B)},d(x){x&&f(e)}}}function ze(i){let e,r,t,l=i[1]&&de(),s=!i[1]&&he(i);return{c(){l&&l.c(),e=E(),s&&s.c(),r=ne()},l(a){l&&l.l(a),e=I(a),s&&s.l(a),r=ne()},m(a,n){l&&l.m(a,n),y(a,e,n),s&&s.m(a,n),y(a,r,n),t=!0},p(a,n){a[1]?l?n&2&&C(l,1):(l=de(),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(_e(),V(l,1,1,()=>{l=null}),pe()),a[1]?s&&(s.d(1),s=null):s?s.p(a,n):(s=he(a),s.c(),s.m(r.parentNode,r))},i(a){t||(C(l),t=!0)},o(a){V(l),t=!1},d(a){a&&(f(e),f(r)),l&&l.d(a),s&&s.d(a)}}}function Se(i){let e,r="Tidak ada buku lagi";return{c(){e=m("div"),e.textContent=r,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-83ev3z"&&(e.textContent=r),this.h()},h(){u(e,"class","text-emerald-600 bg-white shadow py-2 px-5 rounded cursor-default")},m(t,l){y(t,e,l)},p:U,i:U,o:U,d(t){t&&f(e)}}}function de(i){let e,r,t,l,s="Loading more",a;return r=new Ne({props:{size:"14",src:$e,className:"fill-emerald-600 -mt-1 animate-spin"}}),{c(){e=m("div"),De(r.$$.fragment),t=E(),l=m("span"),l.textContent=s,this.h()},l(n){e=v(n,"DIV",{class:!0});var h=w(e);xe(r.$$.fragment,h),t=I(h),l=v(h,"SPAN",{"data-svelte-h":!0}),W(l)!=="svelte-93eunn"&&(l.textContent=s),h.forEach(f),this.h()},h(){u(e,"class","flex flex-row items-center gap-2 cursor-progress")},m(n,h){y(n,e,h),ke(r,e,null),d(e,t),d(e,l),a=!0},i(n){a||(C(r.$$.fragment,n),a=!0)},o(n){V(r.$$.fragment,n),a=!1},d(n){n&&f(e),ye(r)}}}function he(i){let e,r="Load more",t,l;return{c(){e=m("button"),e.textContent=r,this.h()},l(s){e=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1b6usmq"&&(e.textContent=r),this.h()},h(){u(e,"class","text-emerald-600 bg-white shadow py-2 px-5 rounded hover:bg-zinc-50")},m(s,a){y(s,e,a),t||(l=Ee(e,"click",i[3]),t=!0)},p:U,d(s){s&&f(e),t=!1,l()}}}function Ve(i){let e,r,t=i[0]&&i[0].length&&fe(i);return{c(){e=m("div"),t&&t.c(),this.h()},l(l){e=v(l,"DIV",{class:!0});var s=w(e);t&&t.l(s),s.forEach(f),this.h()},h(){u(e,"class","flex flex-col gap-4")},m(l,s){y(l,e,s),t&&t.m(e,null),r=!0},p(l,[s]){l[0]&&l[0].length?t?(t.p(l,s),s&1&&C(t,1)):(t=fe(l),t.c(),C(t,1),t.m(e,null)):t&&(_e(),V(t,1,1,()=>{t=null}),pe())},i(l){r||(C(t),r=!0)},o(l){V(t),r=!1},d(l){l&&f(e),t&&t.d()}}}function Pe(i,e,r){let t=[],l=1,s=!1,a=!1;async function n(){r(1,s=!0);const k=`https://newsapi.org/v2/everything?q=tech&language=en&from=${Me()}&sortBy=popularity&page=${l}&pageSize=70&apiKey=${Ce}`;await Ie({method:"GET",url:k}).then(g=>{r(1,s=!1),l+=1,r(0,t=[...t,...g.data.articles])}).catch(g=>{r(1,s=!1),console.log(g)})}return be(async()=>await n()),[t,s,a,n]}class Ye extends me{constructor(e){super(),ve(this,e,Pe,Ve,ge,{})}}export{Ye as default};
