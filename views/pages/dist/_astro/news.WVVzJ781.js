import{S as me,i as ve,s as ge,e as m,h as v,j as w,l as f,m as u,o as y,t as C,u as V,v as pe,z as be,d as E,k as W,g as I,I as we,B as A,C as j,K as ne,p as d,E as q,x as _e,y as re,H as U,c as De,f as xe,n as ke,w as ye,q as Ee}from"./index.vfLk9hgJ.js";import{e as oe}from"./each.-oqiv04n.js";import{a as Ie}from"./axios.L6U4YIEh.js";import{I as Ne}from"./Icon._Bt0AYzA.js";import{R as $e}from"./RiSystemLoader4Fill.thdniLxq.js";const Ce="a3816072a7eb497fa7ae2b2b7f3e5d11";function ie(i){const e=new Date(i),n=e.toLocaleDateString("default",{weekday:"long"}),t=e.getDate(),l=e.toLocaleDateString("default",{month:"long"}),s=e.getFullYear();return`${n}, ${t} ${l} ${s}`}function ze(){const i=new Date,e=i.getMonth(),n=i.getFullYear();let t=e-1,l=n;t<0&&(t=11,l--);const s=new Date(l,t+1,0).getDate(),a=i.getDate(),r=a>s?s:a;return new Date(l,t,r).toISOString().slice(0,10)}function ce(i,e,n){const t=i.slice();return t[5]=e[n],t}function fe(i){let e,n='<span class="w-4 h-px bg-zinc-200"></span> <p class="font-semibold">News</p> <span class="grow h-px bg-zinc-200"></span>',t,l,s,a,r,h,D,g=oe(i[0]),_=[];for(let o=0;o<g.length;o+=1)_[o]=ue(ce(i,g,o));const $=[Se,Me],N=[];function z(o,p){return o[2]?0:1}return r=z(i),h=N[r]=$[r](i),{c(){e=m("div"),e.innerHTML=n,t=E(),l=m("div");for(let o=0;o<_.length;o+=1)_[o].c();s=E(),a=m("div"),h.c(),this.h()},l(o){e=v(o,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-wrwvng"&&(e.innerHTML=n),t=I(o),l=v(o,"DIV",{class:!0});var p=w(l);for(let x=0;x<_.length;x+=1)_[x].l(p);p.forEach(f),s=I(o),a=v(o,"DIV",{class:!0});var c=w(a);h.l(c),c.forEach(f),this.h()},h(){u(e,"class","flex flex-row items-center gap-2"),u(l,"class","flex flex-col gap-3"),u(a,"class","flex justify-center text-sm")},m(o,p){y(o,e,p),y(o,t,p),y(o,l,p);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(l,null);y(o,s,p),y(o,a,p),N[r].m(a,null),D=!0},p(o,p){if(p&1){g=oe(o[0]);let c;for(c=0;c<g.length;c+=1){const x=ce(o,g,c);_[c]?_[c].p(x,p):(_[c]=ue(x),_[c].c(),_[c].m(l,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=g.length}h.p(o,p)},i(o){D||(C(h),D=!0)},o(o){V(h),D=!1},d(o){o&&(f(e),f(t),f(l),f(s),f(a)),we(_,o),N[r].d()}}}function ue(i){let e,n,t,l,s,a,r,h,D=i[5].title+"",g,_,$,N=i[5].description+"",z,o,p,c,x,P=i[5].author+"",H,J,M,L=ie(i[5].publishedAt)+"",O,Q,S,T=i[5].source.name+"",Y,X,B;return{c(){e=m("a"),n=m("div"),t=m("img"),s=E(),a=m("div"),r=m("div"),h=m("h4"),g=A(D),_=E(),$=m("p"),z=A(N),o=E(),p=m("div"),c=m("div"),x=m("p"),H=A(P),J=E(),M=m("p"),O=A(L),Q=E(),S=m("span"),Y=A(T),X=E(),this.h()},l(k){e=v(k,"A",{href:!0,target:!0,class:!0});var b=w(e);n=v(b,"DIV",{class:!0});var Z=w(n);t=v(Z,"IMG",{src:!0,alt:!0,class:!0}),Z.forEach(f),s=I(b),a=v(b,"DIV",{class:!0});var F=w(a);r=v(F,"DIV",{class:!0});var G=w(r);h=v(G,"H4",{class:!0});var ee=w(h);g=j(ee,D),ee.forEach(f),_=I(G),$=v(G,"P",{class:!0});var te=w($);z=j(te,N),te.forEach(f),G.forEach(f),o=I(F),p=v(F,"DIV",{class:!0});var K=w(p);c=v(K,"DIV",{class:!0});var R=w(c);x=v(R,"P",{class:!0});var le=w(x);H=j(le,P),le.forEach(f),J=I(R),M=v(R,"P",{class:!0});var se=w(M);O=j(se,L),se.forEach(f),R.forEach(f),Q=I(K),S=v(K,"SPAN",{class:!0});var ae=w(S);Y=j(ae,T),ae.forEach(f),K.forEach(f),F.forEach(f),X=I(b),b.forEach(f),this.h()},h(){ne(t.src,l=i[5].urlToImage)||u(t,"src",l),u(t,"alt","news"),u(t,"class","w-full h-full object-cover duration-75 group-hover:scale-110"),u(n,"class","border border-zinc-100 h-32 overflow-hidden rounded-md"),u(h,"class","line-clamp-1 font-semibold"),u($,"class","text-xs text-zinc-600 line-clamp-2"),u(r,"class","flex flex-col gap-2"),u(x,"class","text-blue-500 text-sm"),u(M,"class","text-xs"),u(c,"class","flex flex-col gap-1"),u(S,"class","text-xs py-1.5 px-3 rounded-full font-semibold text-purple-500 bg-purple-500/20 h-fit w-fit"),u(p,"class","flex flex-row justify-between items-center"),u(a,"class","flex flex-col justify-between"),u(e,"href",B=i[5].url),u(e,"target","_blank"),u(e,"class","group grid grid-cols-[auto_65%] p-4 hover:bg-zinc-100 active:bg-zinc-200 rounded-md gap-4 items-stretch")},m(k,b){y(k,e,b),d(e,n),d(n,t),d(e,s),d(e,a),d(a,r),d(r,h),d(h,g),d(r,_),d(r,$),d($,z),d(a,o),d(a,p),d(p,c),d(c,x),d(x,H),d(c,J),d(c,M),d(M,O),d(p,Q),d(p,S),d(S,Y),d(e,X)},p(k,b){b&1&&!ne(t.src,l=k[5].urlToImage)&&u(t,"src",l),b&1&&D!==(D=k[5].title+"")&&q(g,D),b&1&&N!==(N=k[5].description+"")&&q(z,N),b&1&&P!==(P=k[5].author+"")&&q(H,P),b&1&&L!==(L=ie(k[5].publishedAt)+"")&&q(O,L),b&1&&T!==(T=k[5].source.name+"")&&q(Y,T),b&1&&B!==(B=k[5].url)&&u(e,"href",B)},d(k){k&&f(e)}}}function Me(i){let e,n,t,l=i[1]&&de(),s=!i[1]&&he(i);return{c(){l&&l.c(),e=E(),s&&s.c(),n=re()},l(a){l&&l.l(a),e=I(a),s&&s.l(a),n=re()},m(a,r){l&&l.m(a,r),y(a,e,r),s&&s.m(a,r),y(a,n,r),t=!0},p(a,r){a[1]?l?r&2&&C(l,1):(l=de(),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(_e(),V(l,1,1,()=>{l=null}),pe()),a[1]?s&&(s.d(1),s=null):s?s.p(a,r):(s=he(a),s.c(),s.m(n.parentNode,n))},i(a){t||(C(l),t=!0)},o(a){V(l),t=!1},d(a){a&&(f(e),f(n)),l&&l.d(a),s&&s.d(a)}}}function Se(i){let e,n="Tidak ada buku lagi";return{c(){e=m("div"),e.textContent=n,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-83ev3z"&&(e.textContent=n),this.h()},h(){u(e,"class","text-emerald-600 bg-white shadow py-2 px-5 rounded cursor-default")},m(t,l){y(t,e,l)},p:U,i:U,o:U,d(t){t&&f(e)}}}function de(i){let e,n,t,l,s="Loading more",a;return n=new Ne({props:{size:"14",src:$e,className:"fill-emerald-600 -mt-1 animate-spin"}}),{c(){e=m("div"),De(n.$$.fragment),t=E(),l=m("span"),l.textContent=s,this.h()},l(r){e=v(r,"DIV",{class:!0});var h=w(e);xe(n.$$.fragment,h),t=I(h),l=v(h,"SPAN",{"data-svelte-h":!0}),W(l)!=="svelte-93eunn"&&(l.textContent=s),h.forEach(f),this.h()},h(){u(e,"class","flex flex-row items-center gap-2 cursor-progress")},m(r,h){y(r,e,h),ke(n,e,null),d(e,t),d(e,l),a=!0},i(r){a||(C(n.$$.fragment,r),a=!0)},o(r){V(n.$$.fragment,r),a=!1},d(r){r&&f(e),ye(n)}}}function he(i){let e,n="Load more",t,l;return{c(){e=m("button"),e.textContent=n,this.h()},l(s){e=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1b6usmq"&&(e.textContent=n),this.h()},h(){u(e,"class","text-emerald-600 bg-white shadow py-2 px-5 rounded hover:bg-zinc-50")},m(s,a){y(s,e,a),t||(l=Ee(e,"click",i[3]),t=!0)},p:U,d(s){s&&f(e),t=!1,l()}}}function Ve(i){let e,n,t=i[0]&&i[0].length&&fe(i);return{c(){e=m("div"),t&&t.c(),this.h()},l(l){e=v(l,"DIV",{class:!0});var s=w(e);t&&t.l(s),s.forEach(f),this.h()},h(){u(e,"class","flex flex-col gap-4")},m(l,s){y(l,e,s),t&&t.m(e,null),n=!0},p(l,[s]){l[0]&&l[0].length?t?(t.p(l,s),s&1&&C(t,1)):(t=fe(l),t.c(),C(t,1),t.m(e,null)):t&&(_e(),V(t,1,1,()=>{t=null}),pe())},i(l){n||(C(t),n=!0)},o(l){V(t),n=!1},d(l){l&&f(e),t&&t.d()}}}function Pe(i,e,n){let t=[],l=1,s=!1,a=!1;async function r(){n(1,s=!0);const D=`https://newsapi.org/v2/everything?q=tech&language=en&from=${ze()}&sortBy=popularity&page=${l}&pageSize=70&apiKey=${Ce}`;await Ie({method:"GET",url:D}).then(g=>{n(1,s=!1),l+=1,n(0,t=[...t,...g.data.articles])}).catch(g=>{n(1,s=!1),console.log(g)})}return be(async()=>await r()),[t,s,a,r]}class He extends me{constructor(e){super(),ve(this,e,Pe,Ve,ge,{})}}export{He as default};
